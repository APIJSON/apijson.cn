<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>完整功能图表 | apijson-doc</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/doc/APIJSON_Logo.png">
    <meta name="description" content="Apijson 的官方文档">
    
    <link rel="preload" href="/doc/assets/css/0.styles.2311a3f7.css" as="style"><link rel="preload" href="/doc/assets/js/app.90cbcbef.js" as="script"><link rel="preload" href="/doc/assets/js/2.db5409ae.js" as="script"><link rel="preload" href="/doc/assets/js/21.a1624581.js" as="script"><link rel="prefetch" href="/doc/assets/js/10.20c78487.js"><link rel="prefetch" href="/doc/assets/js/11.3c1ca5b2.js"><link rel="prefetch" href="/doc/assets/js/12.ca84eb30.js"><link rel="prefetch" href="/doc/assets/js/13.6204bcad.js"><link rel="prefetch" href="/doc/assets/js/14.34333668.js"><link rel="prefetch" href="/doc/assets/js/15.4629a00f.js"><link rel="prefetch" href="/doc/assets/js/16.dc616e49.js"><link rel="prefetch" href="/doc/assets/js/17.49d21086.js"><link rel="prefetch" href="/doc/assets/js/18.be133bd5.js"><link rel="prefetch" href="/doc/assets/js/19.a0adc2db.js"><link rel="prefetch" href="/doc/assets/js/20.e1a61e6e.js"><link rel="prefetch" href="/doc/assets/js/22.19cebf82.js"><link rel="prefetch" href="/doc/assets/js/23.da5a3730.js"><link rel="prefetch" href="/doc/assets/js/24.91425dcf.js"><link rel="prefetch" href="/doc/assets/js/3.46b221ac.js"><link rel="prefetch" href="/doc/assets/js/4.1db9bce9.js"><link rel="prefetch" href="/doc/assets/js/5.20e3dd41.js"><link rel="prefetch" href="/doc/assets/js/6.4a6c4889.js"><link rel="prefetch" href="/doc/assets/js/7.5a71538f.js"><link rel="prefetch" href="/doc/assets/js/8.de89fc8f.js"><link rel="prefetch" href="/doc/assets/js/9.7b9ddb85.js">
    <link rel="stylesheet" href="/doc/assets/css/0.styles.2311a3f7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc/" class="home-link router-link-active"><!----> <span class="site-name">apijson-doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc/zh/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/doc/FAQ/" class="nav-link">
  常见问题
</a></div> <a href="https://github.com/vincentCheng/apijson-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc/zh/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/doc/FAQ/" class="nav-link">
  常见问题
</a></div> <a href="https://github.com/vincentCheng/apijson-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/doc/zh/" aria-current="page" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/#接口开发" class="sidebar-link">接口开发</a></li><li class="sidebar-sub-header"><a href="/doc/zh/#功能说明" class="sidebar-link">功能说明</a></li></ul></li><li><a href="/doc/zh/install.html" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/install.html#环境配置" class="sidebar-link">环境配置</a></li><li class="sidebar-sub-header"><a href="/doc/zh/install.html#下载项目" class="sidebar-link">下载项目</a></li><li class="sidebar-sub-header"><a href="/doc/zh/install.html#导入项目" class="sidebar-link">导入项目</a></li><li class="sidebar-sub-header"><a href="/doc/zh/install.html#错误修改" class="sidebar-link">错误修改</a></li></ul></li><li><a href="/doc/zh/sqlconfig.html" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/sqlconfig.html#配置" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/doc/zh/sqlconfig.html#导入表" class="sidebar-link">导入表</a></li></ul></li><li><a href="/doc/zh/grammar.html" class="sidebar-link">语法 &amp; 示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#登录" class="sidebar-link">登录</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#查询" class="sidebar-link">查询</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#字段过滤" class="sidebar-link">字段过滤</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#字段别名" class="sidebar-link">字段别名</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#逻辑运算-筛选" class="sidebar-link">逻辑运算-筛选</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#模糊查询" class="sidebar-link">模糊查询</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#正则匹配" class="sidebar-link">正则匹配</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#列表数据" class="sidebar-link">列表数据</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#分页" class="sidebar-link">分页</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#关联查询" class="sidebar-link">关联查询</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#分组查询" class="sidebar-link">分组查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#登录-2" class="sidebar-link">登录</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#测试新增" class="sidebar-link">测试新增</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#测试修改" class="sidebar-link">测试修改</a></li><li class="sidebar-sub-header"><a href="/doc/zh/grammar.html#测试删除" class="sidebar-link">测试删除</a></li></ul></li></ul></li><li><a href="/doc/zh/newinterface.html" class="sidebar-link">新增接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/newinterface.html#后台添加数据表" class="sidebar-link">后台添加数据表</a></li><li class="sidebar-sub-header"><a href="/doc/zh/newinterface.html#角色访问权限配置" class="sidebar-link">角色访问权限配置</a></li><li class="sidebar-sub-header"><a href="/doc/zh/newinterface.html#请求参数校验-request-表配置" class="sidebar-link">请求参数校验 Request 表配置</a></li></ul></li><li><a href="/doc/zh/all.html" aria-current="page" class="active sidebar-link">完整功能图表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/all.html#_3-设计规范" class="sidebar-link">3.设计规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/zh/all.html#_3-1-操作方法" class="sidebar-link">3.1 操作方法</a></li><li class="sidebar-sub-header"><a href="/doc/zh/all.html#_3-2-功能符" class="sidebar-link">3.2 功能符</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="完整功能图表"><a href="#完整功能图表" class="header-anchor">#</a> 完整功能图表</h1> <h2 id="_3-设计规范"><a href="#_3-设计规范" class="header-anchor">#</a> 3.设计规范</h2> <h3 id="_3-1-操作方法"><a href="#_3-1-操作方法" class="header-anchor">#</a> 3.1 操作方法</h3> <table><thead><tr><th>方法及说明</th> <th>URL</th> <th>Request</th> <th>Response</th></tr></thead> <tbody><tr><td>GET: <br> 普通获取数据，<br> 可用浏览器调试</td> <td>base_url/get/</td> <td>{<br>    TableName:{<br>      … <br>    }<br>} <br> {…}内为限制条件<br><br> 例如获取一个 id = 235 的 Moment：<br> <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fget&amp;type=JSON&amp;json=%7B%22Moment%22%3A%7B%22id%22%3A235%7D%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Moment&quot;:{<br>      &quot;id&quot;:235<br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 后端校验通过后自动解析为 SQL 并执行：<br><code>SELECT * FROM Moment WHERE id=235 LIMIT 1</code></td> <td>{<br>    TableName:{<br>      ...<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>}<br>例如<br>{<br>    &quot;Moment&quot;:{<br>      &quot;id&quot;:235,<br>      &quot;userId&quot;:38710,<br>      &quot;content&quot;:&quot;APIJSON,let interfaces and documents go to hell !&quot;<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br> }</td></tr> <tr><td>HEAD: <br> 普通获取数量，<br> 可用浏览器调试</td> <td>base_url/head/</td> <td>{<br>    TableName:{<br>      …<br>    }<br> } <br> {…}内为限制条件 <br><br> 例如获取一个 id = 38710 的 User 所发布的 Moment 总数：<br> <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fhead&amp;type=JSON&amp;json=%7B%22Moment%22%3A%7B%22userId%22%3A38710%7D%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Moment&quot;:{<br>      &quot;userId&quot;:38710<br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 后端校验通过后自动解析为 SQL 并执行：<br><code>SELECT count(*) FROM Moment WHERE userId=38710 LIMIT 1</code></td> <td>{<br>    TableName:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;count&quot;:10<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>} <br> 例如<br>{<br>    &quot;Moment&quot;:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;count&quot;:10<br>    },<br>    &quot;code&quot;:200,<br>     &quot;msg&quot;:&quot;success&quot;<br>}</td></tr> <tr><td>GETS: <br> 安全/私密获取数据，<br> 用于获取钱包等<br>对安全性要求高的数据</td> <td>base_url/gets/</td> <td>最外层加一个 &quot;tag&quot;:tag，例如 <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fgets&amp;type=JSON&amp;json=%7B%22tag%22%3A%22Privacy%22,%22Privacy%22%3A%7B%22id%22%3A82001%7D%7D" target="_blank" rel="noopener noreferrer">&quot;tag&quot;:&quot;Privacy&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，其它同GET</td> <td>同GET</td></tr> <tr><td>HEADS: <br> 安全/私密获取数量，<br> 用于获取银行卡数量等<br>对安全性要求高的数据总数</td> <td>base_url/heads/</td> <td>最外层加一个 &quot;tag&quot;:tag，例如 <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fheads&amp;type=JSON&amp;json=%7B%22tag%22%3A%22Verify%22,%22Verify%22%3A%7B%22phone%22%3A13000082001%7D%7D" target="_blank" rel="noopener noreferrer">&quot;tag&quot;:&quot;Verify&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，其它同HEAD</td> <td>同HEAD</td></tr> <tr><td>POST: <br> 新增数据</td> <td>base_url/post/</td> <td>单个： <br> {<br>    TableName:{<br>      …<br>    },<br>    &quot;tag&quot;:tag<br>} <br> {…}中id由后端生成，不能传 <br><br>例如当前登录用户 38710 发布一个新 Comment：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fpost&amp;type=JSON&amp;json=%7B%22Comment%22:%7B%22momentId%22:12,%22content%22:%22APIJSON,let%20interfaces%20and%20documents%20go%20to%20hell%20!%22%7D,%22tag%22:%22Comment%22%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Comment&quot;:{<br>      &quot;momentId&quot;:12,<br>      &quot;content&quot;:&quot;APIJSON,let interfaces and documents go to hell !&quot; <br>    },<br>    &quot;tag&quot;:&quot;Comment&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 后端校验通过后自动解析为 SQL 并执行：<br><code>INSERT INTO Comment(userId,momentId,content) VALUES(38710,12,'APIJSON,let interfaces and documents go to hell !')</code> <br> <br> 批量： <br> {<br>    TableName[]:[{<br>        …<br>      }, {<br>        …<br>      }<br>      …<br>    ],<br>    &quot;tag&quot;:tag<br>} <br> {…}中id由后端生成，不能传 <br><br>例如当前登录用户 82001 发布 2 个 Comment：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fpost&amp;type=JSON&amp;json=%7B%22Comment%5B%5D%22:%5B%7B%22momentId%22:12,%22content%22:%22APIJSON,let%20interfaces%20and%20documents%20go%20to%20hell%20!%22%7D,%7B%22momentId%22:15,%22content%22:%22APIJSON%20is%20a%20JSON%20transmision%20protocol.%22%7D%5D,%22tag%22:%22Comment:%5B%5D%22%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Comment[]&quot;:[{<br>      &quot;momentId&quot;:12,<br>      &quot;content&quot;:&quot;APIJSON,let interfaces and documents go to hell !&quot;<br>      }, {<br>      &quot;momentId&quot;:15,<br>      &quot;content&quot;:&quot;APIJSON is a JSON transmision protocol.&quot;<br>    }],<br>    &quot;tag&quot;:&quot;Comment:[]&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>  后端校验通过后自动解析为 SQL 并执行：<br><code>INSERT INTO Comment(userId,momentId,content) VALUES(82001,12,'APIJSON,let interfaces and documents go to hell !');</code><br><br><code>INSERT INTO Comment(userId,momentId,content) VALUES(82001,15,'APIJSON is a JSON transmision protocol.');</code></td> <td>单个： <br> {<br>    TableName:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;id&quot;:38710<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>}<br>例如<br>{<br>    &quot;Comment&quot;:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;id&quot;:120<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>} <br> <br> 批量： <br> {<br>    TableName:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;count&quot;:5,<br>      &quot;id[]&quot;:[1, 2, 3, 4, 5]<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>}<br>例如<br>{<br>    &quot;Comment&quot;:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;count&quot;:2,<br>      &quot;id[]&quot;:[1, 2]<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>}</td></tr> <tr><td>PUT: <br> 修改数据，<br> 只修改所传的字段</td> <td>base_url/put/</td> <td>{<br>    TableName:{<br>      &quot;id&quot;:id,<br>      …<br>    },<br>    &quot;tag&quot;:tag<br>} <br> {…} 中 id 或 id{} 至少传一个 <br><br>例如当前登录用户 82001 修改 id = 235 的 Moment 的 content：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fput&amp;type=JSON&amp;json=%7B%22Moment%22:%7B%22id%22:235,%22content%22:%22APIJSON,let%20interfaces%20and%20documents%20go%20to%20hell%20!%22%7D,%22tag%22:%22Moment%22%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Moment&quot;:{<br>      &quot;id&quot;:235,<br>      &quot;content&quot;:&quot;APIJSON,let interfaces and documents go to hell !&quot;<br>    },<br>    &quot;tag&quot;:&quot;Moment&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 后端校验通过后自动解析为 SQL 并执行：<br><code>UPDATE Moment SET content='APIJSON,let interfaces and documents go to hell !' WHERE id=235 AND userId=82001 LIMIT 1</code> <br><br> 批量除了 id{}:[] 也可类似批量 POST，只是每个 {...} 里面都必须有 id。<br>&quot;tag&quot;:&quot;Comment[]&quot; 对应对象 &quot;Comment&quot;:{&quot;id{}&quot;:[1,2,3]}，表示指定记录全部统一设置；<br>&quot;tag&quot;:&quot;Comment:[]&quot; 多了冒号，对应数组 &quot;Comment[]&quot;:[{&quot;id&quot;:1},{&quot;id&quot;:2},{&quot;id&quot;:3}]，表示每项单独设置</td> <td>同POST</td></tr> <tr><td>DELETE: <br> 删除数据</td> <td>base_url/delete/</td> <td>{<br>    TableName:{<br>      &quot;id&quot;:id<br>    },<br>    &quot;tag&quot;:tag<br>} <br> {…} 中 id 或 id{} 至少传一个，一般只传 id 或 id{} <br><br>例如当前登录用户 82001 批量删除 id = 100,110,120 的 Comment：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fdelete&amp;type=JSON&amp;json=%7B%22Comment%22:%7B%22id%7B%7D%22:%5B100,110,120%5D%7D,%22tag%22:%22Comment%5B%5D%22%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;Comment&quot;:{<br>      &quot;id{}&quot;:[100,110,120]<br>    },<br>    &quot;tag&quot;:&quot;Comment[]&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 后端校验通过后自动解析为 SQL 并执行：<br><code>DELETE FROM Comment WHERE id IN(100,110,120) AND userId=82001 LIMIT 3</code></td> <td>{<br>    TableName:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;id[]&quot;:[100,110,120]<br>      &quot;count&quot;:3<br>    },<br>    &quot;code&quot;:200,<br>    &quot;msg&quot;:&quot;success&quot;<br>}<br>例如<br>{<br>   &quot;Comment&quot;:{<br>      &quot;code&quot;:200,<br>      &quot;msg&quot;:&quot;success&quot;,<br>      &quot;id[]&quot;:[100,110,120],<br>      &quot;count&quot;:3<br>   },<br>   &quot;code&quot;:200,<br>   &quot;msg&quot;:&quot;success&quot;<br>}</td></tr> <tr><td>以上接口的简单形式: <br> base_url/{method}/{tag}</td> <td>GET: 普通获取数据 <br> base_url/get/{tag} <br><br> HEAD: 普通获取数量 <br> base_url/head/{tag} <br><br> GETS: 安全/私密获取数据 <br>  base_url/gets/{tag} <br><br> HEADS: 安全/私密获取数量 <br> base_url/heads/{tag} <br><br> POST: 新增数据 <br>  base_url/post/{tag} <br><br> PUT: 修改数据  base_url/put/{tag} <br><br> DELETE: 删除数据 <br> base_url/delete/{tag}</td> <td>例如安全/私密获取一个 id = 82001 的 Privacy：<br> <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fgets%2FPrivacy&amp;type=JSON&amp;json=%7B%22id%22%3A82001%7D" target="_blank" rel="noopener noreferrer">base_url/gets/Privacy/ <br> {&quot;id&quot;:82001}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 相当于 <br> <a href="http://apijson.cn/api/?url=http%3A%2F%2Fapijson.cn%3A8080%2Fgets&amp;type=JSON&amp;json=%7B%22tag%22%3A%22Privacy%22,%22Privacy%22%3A%7B%22id%22%3A82001%7D%7D" target="_blank" rel="noopener noreferrer">base_url/gets/ <br>{&quot;tag&quot;:&quot;Privacy&quot;, &quot;Privacy&quot;:{&quot;id&quot;:82001}}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> <br> 例如批量修改 id = 114, 124 的 Comment 的 content：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fput%2FComment%5B%5D&amp;type=JSON&amp;json=%7B%22id%7B%7D%22%3A%5B114,124%5D,%22content%22%3A%22test%20multi%20put%22%7D" target="_blank" rel="noopener noreferrer">base_url/put/Comemnt[]/ <br> {<br>    &quot;id{}&quot;:[114,124],<br>    &quot;content&quot;:&quot;test multi put&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 相当于 <br> <a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fput&amp;type=JSON&amp;json=%7B%22tag%22%3A%22Comment%5B%5D%22,%22Comment%22%3A%7B%22id%7B%7D%22%3A%5B114,124%5D,%22content%22%3A%22test%20multi%20put%22%7D%7D" target="_blank" rel="noopener noreferrer">base_url/put/ <br> {<br>    &quot;tag&quot;:&quot;Comment[]&quot;, <br>    &quot;Comment&quot;:{<br>      &quot;id{}&quot;:[114,124],<br>      &quot;content&quot;:&quot;test multi put&quot;<br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>同以上对应的方法</td></tr></tbody></table> <p>1.TableName指要查询的数据库表Table的名称字符串。第一个字符为大写字母，剩下的字符要符合英语字母、数字、下划线中的任何一种。对应的值的类型为JSONObject，结构是 {...}，里面放的是Table的字段(列名)。下同。<br>
2.&quot;tag&quot;:tag 后面的tag是非GET、HEAD请求中匹配请求的JSON结构的标识，一般是要查询的Table的名称，由后端Request表中指定。下同。<br>
3.GET、HEAD请求是开放请求，可任意组合任意嵌套。其它请求为受限制的安全/私密请求，对应的 方法（method）, 标识（tag）, 版本（version）, 结构（structure） 都必须和 后端Request表中所指定的 一一对应，否则请求将不被通过。version 不传、为 null 或 &lt;=0 都会使用最高版本，传了其它有效值则会使用最接近它的最低版本。下同。<br>
4.GETS与GET、HEADS与HEAD分别为同一类型的操作方法，请求稍有不同但返回结果相同。下同。<br>
5.在HTTP通信中，自动化接口(get,gets,head,heads,post,put,delete) 全用HTTP POST请求。下同。<br>
6.所有JSONObject都视为容器(或者文件夹)，结构为 {...} ，里面可以放普通对象或子容器。下同。<br>
7.每个对象都有一个唯一的路径(或者叫地址)，假设对象名为refKey，则用 key0/key1/.../refKey 表示。下同。</p> <br> <h3 id="_3-2-功能符"><a href="#_3-2-功能符" class="header-anchor">#</a> 3.2 功能符</h3> <table><thead><tr><th>功能</th> <th>键值对格式</th> <th>使用示例</th></tr></thead> <tbody><tr><td>查询数组</td> <td>&quot;key[]&quot;:{}，后面是JSONObject，key可省略。当key和里面的Table名相同时，Table会被提取出来，即 {Table:{Content}} 会被转化为 {Content}</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%7D%7D%7D" target="_blank" rel="noopener noreferrer">{&quot;User[]&quot;:{&quot;User&quot;:{}}}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，查询一个User数组。这里key和Table名都是User，User会被提取出来，即 {&quot;User&quot;:{&quot;id&quot;, ...}} 会被转化为 {&quot;id&quot;, ...}，如果要进一步提取User中的id，可以把User[]改为User-id[]</td></tr> <tr><td>匹配选项范围</td> <td>&quot;key{}&quot;:[]，后面是JSONArray，作为key可取的值的选项</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22id%7B%7D%22:%5B38710,82001,70793%5D%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id{}&quot;:[38710,82001,70793]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>id IN(38710,82001,70793)</code>，查询id符合38710,82001,70793中任意一个的一个User数组</td></tr> <tr><td>匹配条件范围</td> <td>&quot;key{}&quot;:&quot;条件0,条件1...&quot;，条件为SQL表达式字符串，可进行数字比较运算等</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22id%7B%7D%22:%22%3C=80000,%3E90000%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id{}&quot;:&quot;&lt;=80000,&gt;90000&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>id&lt;=80000 OR id&gt;90000</code>，查询id符合id&lt;=80000 | id&gt;90000的一个User数组</td></tr> <tr><td>包含选项范围</td> <td>&quot;key&lt;&gt;&quot;:Object  =&gt;  &quot;key&lt;&gt;&quot;:[Object]，key对应值的类型必须为JSONArray，Object类型不能为JSON</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22contactIdList%3C%3E%22:38710%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;contactIdList&lt;&gt;&quot;:38710<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>json_contains(contactIdList,38710)</code>，查询contactIdList包含38710的一个User数组</td></tr> <tr><td>判断是否存在</td> <td>&quot;key}{@&quot;:{<br>    &quot;from&quot;:&quot;Table&quot;,<br>    &quot;Table&quot;:{ ... }<br>}<br>其中：<br>}{ 表示 EXISTS；<br> key 用来标识是哪个判断；<br> @ 后面是 子查询 对象，具体见下方 子查询 的说明。</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22id%7D%7B@%22:%7B%22from%22:%22Comment%22,%22Comment%22:%7B%22momentId%22:15%7D%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id}{@&quot;:{<br>    &quot;from&quot;:&quot;Comment&quot;,<br>    &quot;Comment&quot;:{<br>        &quot;momentId&quot;:15 <br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> WHERE EXISTS(SELECT * FROM Comment WHERE momentId=15)</td></tr> <tr><td>远程调用函数</td> <td>&quot;key()&quot;:&quot;函数表达式&quot;，函数表达式为 function(key0,key1...)，会调用后端对应的函数 function(JSONObject request, String key0, String key1...)，实现 参数校验、数值计算、数据同步、消息推送、字段拼接、结构变换 等特定的业务逻辑处理，<br>可使用 - 和 + 表示优先级，解析 key-() &gt; 解析当前对象 &gt; 解析 key() &gt; 解析子对象 &gt; 解析 key+()</td> <td><a href="http://apijson.cn:8080/get/%7B%22Moment%22:%7B%22id%22:301,%22isPraised()%22:%22isContain(praiseUserIdList,userId)%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;isPraised()&quot;:&quot;isContain(praiseUserIdList,userId)&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，会调用远程函数 boolean isContain(JSONObject request, String array, String value) ，然后变为 &quot;isPraised&quot;:true 这种（假设点赞用户id列表包含了userId，即这个User点了赞）</td></tr> <tr><td>存储过程</td> <td>&quot;@key()&quot;:&quot;SQL函数表达式&quot;，函数表达式为 <br>  function(key0,key1...) <br> 会调用后端数据库对应的存储过程 SQL函数 <br> function(String key0, String key1...) <br> 除了参数会提前赋值，其它和 远程函数 一致</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22@limit%22:10,%22@offset%22:0,%22@procedure()%22:%22getCommentByUserId(id,@limit,@offset)%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@limit&quot;:10, <br> &quot;@offset&quot;:0, <br> &quot;@procedure()&quot;:&quot;getCommentByUserId(id,@limit,@offset)&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> 会转为 <br> <code>getCommentByUserId(38710,10,0)</code> <br> 来调用存储过程 SQL 函数 <br> <code>getCommentByUserId(IN id bigint, IN limit int, IN offset int)</code> <br> 然后变为 <br>&quot;procedure&quot;:{<br>    &quot;count&quot;:-1, <br>    &quot;update&quot;:false, <br>    &quot;list&quot;:[] <br> } <br> 其中 count 是指写操作影响记录行数，-1 表示不是写操作；update 是指是否为写操作（增删改）；list 为返回结果集</td></tr> <tr><td>引用赋值</td> <td>&quot;key@&quot;:&quot;key0/key1/.../refKey&quot;，引用路径为用/分隔的字符串。以/开头的是缺省引用路径，从声明key所处容器的父容器路径开始；其它是完整引用路径，从最外层开始。<br> 被引用的refKey必须在声明key的上面。如果对refKey的容器指定了返回字段，则被引用的refKey必须写在@column对应的值内，例如 &quot;@column&quot;:&quot;refKey,key1,...&quot;</td> <td><a href="http://apijson.cn:8080/get/%7B%22Moment%22:%7B%22userId%22:38710%7D,%22User%22:%7B%22id@%22:%22%252FMoment%252FuserId%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;Moment&quot;:{<br>    &quot;userId&quot;:38710<br>},<br>&quot;User&quot;:{<br>    &quot;id@&quot;:&quot;/Moment/userId&quot;<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> User内的id引用了与User同级的Moment内的userId，<br>即User.id = Moment.userId，请求完成后<br> &quot;id@&quot;:&quot;/Moment/userId&quot; 会变成 &quot;id&quot;:38710</td></tr> <tr><td>子查询</td> <td>&quot;key@&quot;:{<br>    &quot;range&quot;:&quot;ALL&quot;, <br>    &quot;from&quot;:&quot;Table&quot;,<br>    &quot;Table&quot;:{ ... }<br>}<br>其中：<br>range 可为 ALL,ANY；<br>from 为目标表 Table 的名称；<br>@ 后面的对象类似数组对象，可使用 count 和 join 等功能。</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22id@%22:%7B%22from%22:%22Comment%22,%22Comment%22:%7B%22@column%22:%22min(userId)%22%7D%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id@&quot;:{<br>    &quot;from&quot;:&quot;Comment&quot;,<br>    &quot;Comment&quot;:{<br>        &quot;@column&quot;:&quot;min(userId)&quot; <br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> WHERE id=(SELECT min(userId) FROM Comment)</td></tr> <tr><td>模糊搜索</td> <td>&quot;key$&quot;:&quot;SQL搜索表达式&quot;  =&gt;  &quot;key$&quot;:[&quot;SQL搜索表达式&quot;]，任意SQL搜索表达式字符串，如 %key%(包含key), key%(以key开始), %k%e%y%(包含字母k,e,y) 等，%表示任意字符</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22name$%22:%22%2525m%2525%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;name$&quot;:&quot;%m%&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>name LIKE '%m%'</code>，查询name包含&quot;m&quot;的一个User数组</td></tr> <tr><td>正则匹配</td> <td>&quot;key~&quot;:&quot;正则表达式&quot;  =&gt;  &quot;key~&quot;:[&quot;正则表达式&quot;]，任意正则表达式字符串，如 ^[0-9]+$ ，*~ 忽略大小写，可用于高级搜索</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22name~%22:%22%5E%5B0-9%5D%252B$%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;name~&quot;:&quot;^[0-9]+$&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>name REGEXP '^[0-9]+$'</code>，查询name中字符全为数字的一个User数组</td></tr> <tr><td>连续范围</td> <td>&quot;key%&quot;:&quot;start,end&quot;  =&gt;  &quot;key%&quot;:[&quot;start,end&quot;]，其中 start 和 end 都只能为 Boolean, Number, String 中的一种，如 &quot;2017-01-01,2019-01-01&quot; ，[&quot;1,90000&quot;, &quot;82001,100000&quot;] ，可用于连续范围内的筛选</td> <td><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:3,%22User%22:%7B%22date%2525%22:%222017-10-01,2018-10-01%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;date%&quot;:&quot;2017-10-01,2018-10-01&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>date BETWEEN '2017-10-01' AND '2018-10-01'</code>，查询在2017-10-01和2018-10-01期间注册的用户的一个User数组</td></tr> <tr><td>新建别名</td> <td>&quot;name:alias&quot;，name映射为alias，用alias替代name。可用于 column,Table,SQL函数 等。只用于GET类型、HEAD类型的请求</td> <td><a href="http://apijson.cn:8080/get/%7B%22Comment%22:%7B%22@column%22:%22id,toId:parentId%22,%22id%22:51%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@column&quot;:&quot;toId:parentId&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>toId AS parentId</code>，将查询的字段toId变为parentId返回</td></tr> <tr><td>增加 或 扩展</td> <td>&quot;key+&quot;:Object，Object的类型由key指定，且类型为Number,String,JSONArray中的一种。如 82001,&quot;apijson&quot;,[&quot;url0&quot;,&quot;url1&quot;] 等。只用于PUT请求</td> <td>&quot;praiseUserIdList+&quot;:[82001]，对应SQL是<code>json_insert(praiseUserIdList,82001)</code>，添加一个点赞用户id，即这个用户点了赞</td></tr> <tr><td>减少 或 去除</td> <td>&quot;key-&quot;:Object，与&quot;key+&quot;相反</td> <td>&quot;balance-&quot;:100.00，对应SQL是<code>balance = balance - 100.00</code>，余额减少100.00，即花费了100元</td></tr> <tr><td>比较运算</td> <td>&gt;, &lt;, &gt;=, &lt;= 比较运算符，用于 <br>① 提供 &quot;id{}&quot;:&quot;&lt;=90000&quot; 这种条件范围的简化写法 <br><br>② 实现子查询相关比较运算<br><br>不支持 &quot;key=&quot;:Object 和 &quot;key!=&quot;:Object 这两种写法，直接用更简单的 &quot;key&quot;:Object 和 &quot;key!&quot;:Object 替代。</td> <td>① <a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22User%22:%7B%22id%3C=%22:90000%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id&lt;=&quot;:90000<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>id&lt;=90000</code>，查询符合id&lt;=90000的一个User数组<br><br> ② <a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22id%3E@%22:%7B%22from%22:%22Comment%22,%22Comment%22:%7B%22@column%22:%22min(userId)%22%7D%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id&gt;@&quot;:{<br>    &quot;from&quot;:&quot;Comment&quot;,<br>    &quot;Comment&quot;:{<br>        &quot;@column&quot;:&quot;min(userId)&quot; <br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> WHERE id&gt;(SELECT min(userId) FROM Comment)</td></tr> <tr><td>逻辑运算</td> <td>&amp;, |, ! 逻辑运算符，对应数据库 SQL 中的 AND, OR, NOT。 <br>横或纵与：同一键值对的值内条件默认 | 或连接，可以在 key 后加逻辑运算符来具体指定；不同键值对的条件默认 &amp; 与连接，可以用下面说明的对象关键词 @combine 来具体指定。 <br><br>① &amp; 可用于&quot;key&amp;{}&quot;:&quot;条件&quot;等<br><br>② | 可用于&quot;key|{}&quot;:&quot;条件&quot;, &quot;key|{}&quot;:[]等，一般可省略<br><br>③ ! 可单独使用，如&quot;key!&quot;:Object，也可像&amp;,|一样配合其他功能符使用 <br> &quot;key!&quot;:null 无效，null 值会导致整个键值对被忽略解析，可以用 &quot;key{}&quot;:&quot;!=null&quot; 替代，<br>&quot;key&quot;:null 同理，用 &quot;key{}&quot;:&quot;=null&quot; 替代。</td> <td>① <a href="http://apijson.cn:8080/head/%7B%22User%22:%7B%22id&amp;%7B%7D%22:%22%3E80000,%3C=90000%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id&amp;{}&quot;:&quot;&gt;80000,&lt;=90000&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>id&gt;80000 AND id&lt;=90000</code>，即id满足id&gt;80000 &amp; id&lt;=90000<br><br> ② <a href="http://apijson.cn:8080/head/%7B%22User%22:%7B%22id%7C%7B%7D%22:%22%3E90000,%3C=80000%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id|{}&quot;:&quot;&gt;90000,&lt;=80000&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，同&quot;id{}&quot;:&quot;&gt;90000,&lt;=80000&quot;，对应SQL是<code>id&gt;80000 OR id&lt;=90000</code>，即id满足id&gt;90000 | id&lt;=80000<br><br> ③ <a href="http://apijson.cn:8080/head/%7B%22User%22:%7B%22id!%7B%7D%22:%5B82001,38710%5D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;id!{}&quot;:[82001,38710]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对应SQL是<code>id NOT IN(82001,38710)</code>，即id满足 ! (id=82001 | id=38710)，可过滤黑名单的消息</td></tr> <tr><td>数组关键词，可自定义</td> <td>&quot;key&quot;:Object，key为 &quot;[]&quot;:{} 中{}内的关键词，Object的类型由key指定<br><br>① &quot;count&quot;:Integer，查询数量，0 表示最大值，默认最大值为100 <br><br>② &quot;page&quot;:Integer，查询页码，从0开始，默认最大值为100，一般和count一起用<br><br>③ &quot;query&quot;:Integer，查询内容<br>0-对象，1-总数和分页详情，2-数据、总数和分页详情<br>总数关键词为 total，分页详情关键词为 info，<br> 它们都和 query 同级，通过引用赋值得到，例如  <br>&quot;total@&quot;:&quot;/[]/total&quot;, &quot;info@&quot;:&quot;/[]/info&quot; <br>这里query及total仅为GET类型的请求提供方便，<br> 一般可直接用HEAD类型的请求获取总数<br><br>④ &quot;join&quot;:&quot;&amp;/Table0/key0@,&lt;/Table1/key1@&quot;<br>多表连接方式：<br> &quot;&lt;&quot; - LEFT JOIN <br> &quot;&gt;&quot; - RIGHT JOIN <br> &quot;&amp;&quot; - INNER JOIN <br> &quot;|&quot; - FULL JOIN <br>  &quot;!&quot; - OUTER JOIN <br> &quot;@&quot; - APP JOIN <br>其中 @ APP JOIN 为应用层连表，会从已查出的主表里取得所有副表 key@ 关联的主表内的 refKey 作为一个数组 refKeys: [value0, value1...]，然后把原来副表 count 次查询 key=$refKey 的 SQL 用 key IN($refKeys) 的方式合并为一条 SQL 来优化性能；<br> 其它 JOIN 都是 SQL JOIN，具体功能和 MySQL,PostgreSQL 等数据库的 JOIN 一一对应 <br><code>&quot;join&quot;:&quot;&lt;/ViceTable/key@&quot;,</code><br><code>&quot;MainTable&quot;:{},</code><br><code>&quot;ViceTable&quot;:{&quot;key@&quot;:&quot;/MainTable/refKey&quot;}</code><br>会对应生成 <br><code>MainTable LEFT JOIN ViceTable</code> <br><code>ON ViceTable.key=MainTable.refKey</code> <br><br>⑤ &quot;otherKey&quot;:Object，自定义关键词，名称和以上系统关键词不一样，且原样返回上传的值</td> <td>① 查询User数组，最多5个：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:5,%22User%22:%7B%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;count&quot;:5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>LIMIT 5</code> <br><br> ② 查询第3页的User数组，每页5个：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:5,%22page%22:3,%22User%22:%7B%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;count&quot;:5,<br>&quot;page&quot;:3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>LIMIT 5 OFFSET 15</code> <br><br> ③ 查询User数组和对应的User总数：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22query%22:2,%22count%22:5,%22User%22:%7B%7D%7D,%22total@%22:%22%252F%5B%5D%252Ftotal%22,%22info@%22:%22%252F%5B%5D%252Finfo%22%7D" target="_blank" rel="noopener noreferrer">&quot;[]&quot;:{<br>    &quot;query&quot;:2,<br>    &quot;User&quot;:{}<br>},<br>&quot;total@&quot;:&quot;/[]/total&quot;,<br>&quot;info@&quot;:&quot;/[]/info&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> 返回的数据中，总数及分页详情结构为： <br>  &quot;total&quot;:139,  //总数 <br> &quot;info&quot;:{  //分页详情 <br>    &quot;total&quot;:139,  //总数 <br>    &quot;count&quot;:5,  //每页数量 <br>    &quot;page&quot;:0,  //当前页码 <br>    &quot;max&quot;:27,  //最大页码 <br>    &quot;more&quot;:true,  //是否还有更多 <br>    &quot;first&quot;:true,  //是否为首页 <br>    &quot;last&quot;:false  //是否为尾页 <br>} <br><br> ④ Moment INNER JOIN User LEFT JOIN Comment：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:5,%22join%22:%22&amp;%252FUser%252Fid@,%3C%252FComment%252FmomentId@%22,%22Moment%22:%7B%22@column%22:%22id,userId,content%22,%22@group%22:%22id%22%7D,%22User%22:%7B%22name~%22:%22t%22,%22id@%22:%22%252FMoment%252FuserId%22,%22@column%22:%22id,name,head%22%7D,%22Comment%22:%7B%22momentId@%22:%22%252FMoment%252Fid%22,%22@column%22:%22id,momentId,content%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;[]&quot;:{<br>    &quot;join&quot;:&quot;&amp;/User/id@,&lt;/Comment/momentId@&quot;,<br>    &quot;Moment&quot;:{<br>     &quot;@group&quot;:&quot;id&quot;  //主副表不是一对一，要去除重复数据<br>   },<br>    &quot;User&quot;:{<br>      &quot;name~&quot;:&quot;t&quot;,<br>      &quot;id@&quot;:&quot;/Moment/userId&quot;<br>    },<br>    &quot;Comment&quot;:{<br>      &quot;momentId@&quot;:&quot;/Moment/id&quot;<br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ⑤ 每一层都加当前用户名：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%7D,%22%5B%5D%22:%7B%22name@%22:%22User%252Fname%22,%22Moment%22:%7B%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;User&quot;:{},<br>&quot;[]&quot;:{<br>    &quot;name@&quot;:&quot;User/name&quot;, //自定义关键词<br>    &quot;Moment&quot;:{}<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>对象关键词，可自定义</td> <td>&quot;@key&quot;:Object，@key为 Table:{} 中{}内的关键词，Object的类型由@key指定<br><br>① &quot;@combine&quot;:&quot;&amp;key0,&amp;key1,|key2,key3,<br>!key4,!key5,&amp;key6,key7...&quot;，条件组合方式，| 可省略。会自动把同类的合并，外层按照 &amp; | ! 顺序，内层的按传参顺序组合成<br> (key0 &amp; key1 &amp; key6 &amp; 其它key) &amp; (key2 | key3 | key7) &amp; !(key4 | key5) <br>这种连接方式，其中 &quot;其它key&quot; 是指与 @combine 在同一对象，且未被它声明的条件 key，默认都是 &amp; 连接 <br><br>② &quot;@column&quot;:&quot;column;function(arg)...&quot;，返回字段<br><br>③ &quot;@order&quot;:&quot;column0+,column1-...&quot;，排序方式<br><br>④ &quot;@group&quot;:&quot;column0,column1...&quot;，分组方式。如果@column里声明了Table的id，则id也必须在@group中声明；其它情况下必须满足至少一个条件:<br>1.分组的key在@column里声明<br>2.Table主键在@group中声明 <br><br>⑤ &quot;@having&quot;:&quot;function0(...)?value0;function1(...)?value1;function2(...)?value2...&quot;，SQL函数条件，一般和@group一起用，函数一般在@column里声明<br><br>⑥ &quot;@schema&quot;:&quot;sys&quot;，集合空间(数据库名/模式)，非默认的值可通过它来指定，可以在最外层作为全局默认配置<br><br>⑦ &quot;@database&quot;:&quot;POSTGRESQL&quot;，数据库类型，非默认的值可通过它来指定，可以在最外层作为全局默认配置<br><br>⑧ &quot;@datasource&quot;:&quot;DRUID&quot;，跨数据源，非默认的值可通过它来指定，可以在最外层作为全局默认配置<br><br>⑨ &quot;@json&quot;:&quot;key0,key1...&quot;，转为 JSON 格式返回，符合 JSONObject 则转为 {...}，符合 JSONArray 则转为 [...] <br><br>⑩ &quot;@role&quot;:&quot;OWNER&quot;，来访角色，包括<br>UNKNOWN,LOGIN,CONTACT,CIRCLE,OWNER,ADMIN，<br>可以在最外层作为全局默认配置，<br>可自定义其它角色并重写 Verifier.verify 等相关方法来自定义校验 <br><br>⑪ &quot;@explain&quot;:true，性能分析，可以在最外层作为全局默认配置 <br><br>⑫ &quot;@raw&quot;:&quot;key0,key1...&quot;，其中 key0, key1 都对应有键值对<br> &quot;key0&quot;:&quot;SQL片段或SQL片段的别名&quot;, <br> &quot;key1&quot;:&quot;SQL片段或SQL片段的别名&quot; <br> 自定义原始SQL片段，可扩展嵌套SQL函数等复杂语句，必须是后端已配置的，只有其它功能符都做不到才考虑，谨慎使用，注意防SQL注入<br><br>⑬ &quot;@otherKey&quot;:Object，自定义关键词，名称和以上系统关键词不一样，且原样返回上传的值</td> <td>① 搜索name或tag任何一个字段包含字符a的User列表：<br><a href="http://apijson.cn:8080/get/%7B%22User%5B%5D%22:%7B%22count%22:10,%22User%22:%7B%22@column%22:%22id,name,tag%22,%22name~%22:%22a%22,%22tag~%22:%22a%22,%22@combine%22:%22name~,tag~%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;name~&quot;:&quot;a&quot;,<br>&quot;tag~&quot;:&quot;a&quot;,<br>&quot;@combine&quot;:&quot;name~,tag~&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>name REGEXP 'a' OR tag REGEXP 'a'</code> <br><br> ② 只查询id,sex,name这几列并且请求结果也按照这个顺序：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22@column%22:%22id,sex,name%22,%22id%22:38710%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@column&quot;:&quot;id,sex,name&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>SELECT id,sex,name</code> <br><br> ③ 查询按 name降序、id默认顺序 排序的User数组：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:10,%22User%22:%7B%22@column%22:%22name,id%22,%22@order%22:%22name-,id%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@order&quot;:&quot;name-,id&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>ORDER BY name DESC,id</code> <br><br> ④ 查询按userId分组的Moment数组：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:10,%22Moment%22:%7B%22@column%22:%22userId,id%22,%22@group%22:%22userId,id%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@group&quot;:&quot;userId,id&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>GROUP BY userId,id</code> <br><br> ⑤ 查询 按userId分组、id最大值&gt;=100 的Moment数组：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:10,%22Moment%22:%7B%22@column%22:%22userId%253Bmax(id)%22,%22@group%22:%22userId%22,%22@having%22:%22max(id)%3E=100%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@column&quot;:&quot;userId;max(id)&quot;,<br>&quot;@group&quot;:&quot;userId&quot;,<br>&quot;@having&quot;:&quot;max(id)&gt;=100&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>SELECT userId,max(id) ... GROUP BY userId HAVING max(id)&gt;=100</code> <br>还可以指定函数返回名：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22count%22:10,%22Moment%22:%7B%22@column%22:%22userId%253Bmax(id):maxId%22,%22@group%22:%22userId%22,%22@having%22:%22maxId%3E=100%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@column&quot;:&quot;userId;max(id):maxId&quot;,<br>&quot;@group&quot;:&quot;userId&quot;,<br>&quot;@having&quot;:&quot;maxId&gt;=100&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>SELECT userId,max(id) AS maxId ... GROUP BY userId HAVING maxId&gt;=100</code> <br><br> ⑥ 查询 sys 内的 User 表：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22@schema%22:%22sys%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@schema&quot;:&quot;sys&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>FROM sys.User</code> <br><br> ⑦ 查询 PostgreSQL 数据库的 User 表：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22@database%22:%22POSTGRESQL%22,%22@explain%22:true%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@database&quot;:&quot;POSTGRESQL&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ⑧ 使用 Druid 连接池查询 User 表：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22@datasource%22:%22DRUID%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@datasource&quot;:&quot;DRUID&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ⑨ 将 VARCHAR 字符串字段 get 转为 JSONArray 返回：<br><a href="http://apijson.cn:8080/get/%7B%22Access%22:%7B%22@json%22:%22get%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@json&quot;:&quot;get&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ⑩ 查询当前用户的动态：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22Moment%22:%7B%22@role%22:%22OWNER%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@role&quot;:&quot;OWNER&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ⑪ 开启性能分析：<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22Moment%22:%7B%22@explain%22:true%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@explain&quot;:true<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>EXPLAIN</code> <br><br> ⑫ 统计最近一周偶数userId的数量<br><a href="http://apijson.cn:8080/get/%7B%22%5B%5D%22:%7B%22Moment%22:%7B%22@column%22:%22date%3bleft(date,10):day%3bsum(if(userId%252=0,1,0))%22,%22@group%22:%22day%22,%22@having%22:%22to_days(now())-to_days(%60date%60)%3C=7%22,%22@raw%22:%22@column,@having%22%7D%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@column&quot;:&quot;date;left(date,10):day;sum(if(userId%2=0,1,0))&quot;,<br>&quot;@group&quot;:&quot;day&quot;,<br>&quot;@having&quot;:&quot;to_days(now())-to_days(`date`)&lt;=7&quot;,<br>&quot;@raw&quot;:&quot;@column,@having&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>对应SQL是<code>SELECT date, left(date,10) AS day, sum(if(userId%2=0,1,0)) ... GROUP BY day HAVING to_days(now())-to_days(`date`)&lt;=7</code> <br><br> ⑬ 从pictureList获取第0张图片：<br><a href="http://apijson.cn:8080/get/%7B%22User%22:%7B%22id%22:38710,%22@position%22:0,%22firstPicture()%22:%22getFromArray(pictureList,@position)%22%7D%7D" target="_blank" rel="noopener noreferrer">&quot;@position&quot;:0, //自定义关键词<br>&quot;firstPicture()&quot;:&quot;getFromArray(pictureList,@position)&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>全局关键词</td> <td>为最外层对象 {} 内的关键词。其中 @database，@schema, @datasource, @role, @explain 基本同对象关键词，见上方说明，区别是全局关键词会每个表对象中没有时自动放入，作为默认值。 <br><br>① &quot;tag&quot;:String，后面的 tag 是非 GET、HEAD 请求中匹配请求的 JSON 结构的标识，一般是要查询的 Table 的名称或该名称对应的数组 Table[] 或 Table:[]，由后端 Request 表中指定。 <br><br>② &quot;version&quot;:Integer，接口版本，version 不传、为 null 或 &lt;=0 都会使用最高版本，传了其它有效值则会使用最接近它的最低版本，由后端 Request 表中指定。<br><br>③ &quot;format&quot;:Boolean，格式化返回 Response JSON 的 key，一般是将 TableName 转为 tableName, TableName[] 转为 tableNameList, Table:alias 转为 alias, TableName-key[] 转为 tableNameKeyList 等小驼峰格式。</td> <td>①  查隐私信息：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fgets&amp;type=JSON&amp;json=%7B%22tag%22:%22Privacy%22,%22Privacy%22:%7B%22id%22:82001%7D%7D" target="_blank" rel="noopener noreferrer">{&quot;tag&quot;:&quot;Privacy&quot;,&quot;Privacy&quot;:{&quot;id&quot;:82001}}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> ② 使用第 1 版接口查隐私信息：<br><a href="http://apijson.cn/api?url=http%3A%2F%2Fapijson.cn%3A8080%2Fgets&amp;type=JSON&amp;json=%7B%22version%22:1,%22tag%22:%22Privacy%22,%22Privacy%22:%7B%22id%22:82001%7D%7D" target="_blank" rel="noopener noreferrer">{&quot;version&quot;:1,&quot;tag&quot;:&quot;Privacy&quot;,&quot;Privacy&quot;:{&quot;id&quot;:82001}}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br><br> ③ 格式化朋友圈接口返回 JSON 中的 key：<br><a href="http://apijson.cn:8080/get/%7B%22format%22:true,%22%5B%5D%22:%7B%22page%22:0,%22count%22:3,%22Moment%22:%7B%7D,%22User%22:%7B%22id@%22:%22%252FMoment%252FuserId%22%7D,%22Comment%5B%5D%22:%7B%22count%22:3,%22Comment%22:%7B%22momentId@%22:%22%5B%5D%252FMoment%252Fid%22%7D%7D%7D%7D" target="_blank" rel="noopener noreferrer">{<br>    &quot;format&quot;:true, <br>    &quot;[]&quot;:{<br>      &quot;page&quot;:0, <br>      &quot;count&quot;:3, <br>      &quot;Moment&quot;:{}, <br>      &quot;User&quot;:{<br>        &quot;id@&quot;:&quot;/Moment/userId&quot;<br>      },<br>      &quot;Comment[]&quot;:{<br>        &quot;count&quot;:3,<br>        &quot;Comment&quot;:{<br>          &quot;momentId@&quot;:&quot;[]/Moment/id&quot;<br>        }<br>      }<br>    }<br>}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <br></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vincentCheng/apijson-doc/edit/master/docs/zh/all.md" target="_blank" rel="noopener noreferrer">帮助我们改进页面内容！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/doc/zh/newinterface.html" class="prev">
        新增接口
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/doc/assets/js/app.90cbcbef.js" defer></script><script src="/doc/assets/js/2.db5409ae.js" defer></script><script src="/doc/assets/js/21.a1624581.js" defer></script>
  </body>
</html>
